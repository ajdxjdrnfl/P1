syntax = "proto3";
package Protocol;

import "Enum.proto";
import "Struct.proto";

message C_LOGIN
{
	CasterType castertype = 1;
}

message S_LOGIN
{
	bool success = 1;
	
}

message S_ENTER_GAME
{
	bool success = 1;
	ObjectInfo info = 2;
}

message C_LEAVE_GAME
{

}

message S_SPAWN
{
	repeated ObjectInfo info = 1;
}

message S_DESPAWN
{
	repeated ObjectInfo info = 1;
}

message S_MOVE
{
	ObjectInfo info = 1;
	bool teleport = 2;
}

message C_MOVE
{
	ObjectInfo info = 1;
}

// Skill Actor Spawn
message C_SKILL
{
	ObjectInfo caster =1;
	uint64 skillid = 2;
	float damage = 3; // 차징 스킬 용
	float x = 4;
	float y = 5;
	float yaw = 6;
}

message S_SKILL
{
	ObjectInfo caster = 1;
	ObjectInfo skillactor = 2;
	uint64 skillid = 3;
}

message C_ATTACK
{
	ObjectInfo caster = 1;
	ObjectInfo skillactor = 2;
	ObjectInfo victim = 3;
	bool counter = 4;
}

message S_ATTACK
{
	ObjectInfo caster = 1;
	ObjectInfo skillactor = 2;
	ObjectInfo victim = 3;
	uint64 skillid = 4;
	float damage = 5;
	bool counter = 6;
}

message C_MONTAGE
{
	ObjectInfo caster = 1;
	bool isstop = 2;
	uint64 id = 3;
	uint64 section_num = 4;
}

message S_MONTAGE
{
	ObjectInfo caster = 1;
	bool isstop = 2;
	uint64 id = 3;
	uint64 section_num = 4;
	bool scalable = 5; // 애니메이션 실행 시간 조정 - false : 클라 속도대로 실행, true : duration동안 재생
	float duration = 6; 
}

message S_DEAD
{
	ObjectInfo info = 1;
}